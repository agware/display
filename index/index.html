<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <style>

        text {
            font-family: 'Open Sans', sans-serif;
            fill: #000;
        }

    </style>
</head>
<body>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    const dim = {headingWidth: 700, headingHeight: 60, linkWidth: 200, linkHeight: 100};

    const categories = [
        {id: 'motionDefinitions', group: 'heading', text:'Motion definitions'},
        {id: 'velocity', group: 'link', text: 'Velocity', link: 'https://agware.github.io/display/velocity/'},
        {id: 'acceleration', group: 'lastLink', text: 'Acceleration', link: 'https://agware.github.io/display/acceleration/'},
        {id: 'formulas1D', group: 'heading', text:'Motion formulas in 1-dimension'},
        {id: 'formula1', group: 'link', text: 'First formula', link: 'https://agware.github.io/display/first-formula/'},
        {id: 'formula2', group: 'link', text: 'Second formula', link: 'https://agware.github.io/display/second-formula/'},
        {id: 'formula3', group: 'link', text: 'Third formula', link: 'https://agware.github.io/display/third-formula/'},
        {id: 'formula4', group: 'lastLink', text: 'Fourth formula', link: 'https://agware.github.io/display/fourth-formula/'},
        {id: 'splittingVectors', group: 'heading', text:'Splitting vectors'},
        {id: 'pythagoras', group: 'link', text: 'Pythagoras', link: 'https://agware.github.io/display/pythagoras/'},
        {id: 'sohcahtoa', group: 'link', text: 'SohCahToa', link: 'https://agware.github.io/display/sohcahtoa/'},
        {id: 'sohcahtoa2', group: 'lastLink', text: 'SohCahToa 2', link: 'https://agware.github.io/display/sohcahtoa-second/'},
        {id: 'launchBall', group: 'heading', text:'Launching a ball'},
        {id: 'launch', group: 'link', text: 'Launch', link: 'https://agware.github.io/display/launch/'},
        {id: 'launch2', group: 'link', text: 'Launch 2', link: 'https://agware.github.io/display/launch-second/'},
        {id: 'launch3', group: 'lastLink', text: 'Launch 3', link: 'https://agware.github.io/display/launch-third/'}
    ];

    d3.select('body').selectAll('div')
        .data(categories).enter()
        .append('div')
        .attr('id', function(d) {return d.id; });

    for (var i = 0; i < categories.length; i++) {
        d3.select('#' + categories[i].id).append('svg')
            .attr('id', categories[i].id + 'svg')
            .attr('overflow', 'hidden');

        if (categories[i].group == 'heading') {

            const textOffset = 40;

            d3.select('#' + categories[i].id + 'svg')
                .attr('width', dim.headingWidth)
                .attr('height', dim.headingHeight);

            d3.select('#' + categories[i].id + 'svg').append('text')
                .attr('y', textOffset)
                .text(categories[i].text)
                .style('font-size', '40px')
                .style('font-weight', 'bold')
                .style('text-decoration', 'underline');

        } else if (categories[i].group == 'link' || categories[i].group == 'lastLink') {

            const linkOffset = {'x': 15, 'text': 55};

            d3.select('#' + categories[i].id + 'svg')
                .attr('width', dim.linkWidth)
                .attr('height', dim.linkHeight)
                .datum(categories[i].link)
                .on('mouseover', mouseOver)
                .on('mouseout', mouseOut)
                .on('click', clickLink);

            if (categories[i].group == 'link') {
                d3.select('#' + categories[i].id + 'svg').style('float', 'left');
            } else {
                d3.select('#' + categories[i].id + 'svg').style('clear', 'both');
                d3.select('#' + categories[i].id + 'div').style('margin', linkOffset.last + 'px');
            }

            d3.select('#' + categories[i].id + 'svg').append('g')
                .attr('transform', 'translate(' + linkOffset.x + ',0)')
                .attr('id', categories[i].id + 'g');

            d3.select('#' + categories[i].id + 'g').append('text')
                .attr('y', linkOffset.text)
                .text(categories[i].text)
                .style('font-size', '20px');

            d3.select('#' + categories[i].id + 'svg').append('rect')
                .attr('width', '100%')
                .attr('height', '100%')
                .attr('id', categories[i].id + 'rect')
                .style('fill', '#000')
                .style('fill-opacity', 0);

        }

    }

    function clickLink() {
        window.location = d3.select(this).datum();
    }

    // On mouse over
    function mouseOver() {
        d3.select(this).select('rect').style('fill-opacity', 0.2);
    }

    function mouseOut() {
        d3.select(this).select('rect').style('fill-opacity', 0);
    }



</script>

</body>
</html>